{% extends "base.html" %}

{% block content %}
    <div class="container-fluid">
        <h1 class="mb-4">数据中心</h1>
        
        <!-- 数据概览卡片 -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card text-white bg-primary">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-database me-2"></i>数据总量</h5>
                        <p class="card-text">1.2 TB</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-white bg-info">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-video me-2"></i>视频数据</h5>
                        <p class="card-text">850 GB</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-white bg-success">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-tachometer-alt me-2"></i>传感器数据</h5>
                        <p class="card-text">350 GB</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-white bg-warning">
                    <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-cloud-upload-alt me-2"></i>存储空间</h5>
                        <p class="card-text">剩余 2.8 TB</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 数据存储状态 -->
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-hdd me-2"></i>存储状态
                    </div>
                    <div class="card-body">
                        <h5>主存储服务器</h5>
                        <div class="progress mb-3">
                            <div class="progress-bar bg-success" role="progressbar" style="width: 65%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100">65%</div>
                        </div>
                        <p>已使用: 650 GB / 总容量: 1 TB</p>
                        
                        <h5>备份存储服务器</h5>
                        <div class="progress mb-3">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100">45%</div>
                        </div>
                        <p>已使用: 450 GB / 总容量: 1 TB</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-file-alt me-2"></i>数据备份状态
                    </div>
                    <div class="card-body">
                        <div class="alert alert-success">
                            <strong>成功：</strong> 上次备份完成于 2025-05-04 08:30:00
                        </div>
                        <div class="mb-3">
                            <label for="backupSchedule" class="form-label">备份计划</label>
                            <select class="form-select" id="backupSchedule">
                                <option selected>每天 02:00 自动备份</option>
                                <option>每天 04:00 自动备份</option>
                                <option>每天 06:00 自动备份</option>
                            </select>
                        </div>
                        <button class="btn btn-primary">立即执行备份</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 数据管理 -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-cogs me-2"></i>数据管理
                    </div>
                    <div class="card-body">
                        <ul class="nav nav-tabs" id="dataTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="video-tab" data-bs-toggle="tab" data-bs-target="#video" type="button" role="tab" aria-controls="video" aria-selected="true">视频数据</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="sensor-tab" data-bs-toggle="tab" data-bs-target="#sensor" type="button" role="tab" aria-controls="sensor" aria-selected="false">传感器数据</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="analysis-tab" data-bs-toggle="tab" data-bs-target="#analysis" type="button" role="tab" aria-controls="analysis" aria-selected="false">数据分析</button>
                            </li>
                        </ul>
                        <div class="tab-content p-3" id="dataTabsContent">
                            <div class="tab-pane fade show active" id="video" role="tabpanel" aria-labelledby="video-tab">
                                <div class="mb-3">
                                    <label for="videoDate" class="form-label">选择日期</label>
                                    <input type="date" class="form-control" id="videoDate">
                                </div>
                                <div class="mb-3">
                                    <label for="videoCamera" class="form-label">选择摄像头</label>
                                    <select class="form-select" id="videoCamera">
                                        <option selected>所有摄像头</option>
                                        <option>摄像头 1</option>
                                        <option>摄像头 2</option>
                                        <option>摄像头 3</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary">查询视频</button>
                                <div class="mt-3">
                                    <h5>视频列表</h5>
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>时间</th>
                                                <th>摄像头</th>
                                                <th>时长</th>
                                                <th>大小</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>2025-05-04 08:00:00</td>
                                                <td>摄像头 1</td>
                                                <td>1小时</td>
                                                <td>2.5 GB</td>
                                                <td><button class="btn btn-sm btn-primary">播放</button> <button class="btn btn-sm btn-danger">删除</button></td>
                                            </tr>
                                            <tr>
                                                <td>2025-05-04 08:00:00</td>
                                                <td>摄像头 2</td>
                                                <td>1小时</td>
                                                <td>2.3 GB</td>
                                                <td><button class="btn btn-sm btn-primary">播放</button> <button class="btn btn-sm btn-danger">删除</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="sensor" role="tabpanel" aria-labelledby="sensor-tab">
                                <div class="mb-3">
                                    <label for="sensorType" class="form-label">传感器类型</label>
                                    <select class="form-select" id="sensorType">
                                        <option selected>所有类型</option>
                                        <option>温度传感器</option>
                                        <option>盐度传感器</option>
                                        <option>pH传感器</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="sensorDateRange" class="form-label">日期范围</label>
                                    <input type="date" class="form-control" id="sensorStartDate" placeholder="开始日期">
                                    <input type="date" class="form-control" id="sensorEndDate" placeholder="结束日期">
                                </div>
                                <button class="btn btn-primary">查询数据</button>
                                <div class="mt-3">
                                    <h5>传感器数据列表</h5>
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>时间</th>
                                                <th>传感器ID</th>
                                                <th>类型</th>
                                                <th>数值</th>
                                                <th>状态</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>2025-05-04 08:00:00</td>
                                                <td>TEMP-001</td>
                                                <td>温度</td>
                                                <td>22.5°C</td>
                                                <td><span class="badge bg-success">正常</span></td>
                                            </tr>
                                            <tr>
                                                <td>2025-05-04 08:00:00</td>
                                                <td>SAL-005</td>
                                                <td>盐度</td>
                                                <td>32.1‰</td>
                                                <td><span class="badge bg-danger">异常</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="analysis" role="tabpanel" aria-labelledby="analysis-tab">
                                <div class="mb-3">
                                    <label for="analysisType" class="form-label">分析类型</label>
                                    <select class="form-select" id="analysisType">
                                        <option selected>趋势分析</option>
                                        <option>异常检测</option>
                                        <option>预测分析</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="analysisPeriod" class="form-label">分析周期</label>
                                    <select class="form-select" id="analysisPeriod">
                                        <option selected>最近7天</option>
                                        <option>最近30天</option>
                                        <option>最近90天</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary">生成分析报告</button>
                                <div class="mt-3">
                                    <h5>分析结果</h5>
                                    <div class="alert alert-info">
                                        <strong>趋势分析：</strong> 水温呈上升趋势，盐度保持稳定。
                                    </div>
                                    <div class="alert alert-warning">
                                        <strong>异常检测：</strong> 检测到3次异常数据，详情请查看完整报告。
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}